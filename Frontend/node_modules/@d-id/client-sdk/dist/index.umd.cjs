(function(w,L){typeof exports=="object"&&typeof module<"u"?L(exports):typeof define=="function"&&define.amd?define(["exports"],L):(w=typeof globalThis<"u"?globalThis:w||self,L(w.index={}))})(this,function(w){"use strict";var L=(e=>(e.TRIAL="trial",e.BASIC="basic",e.ENTERPRISE="enterprise",e.LITE="lite",e.ADVANCED="advanced",e))(L||{}),J=(e=>(e.TRIAL="deid-trial",e.PRO="deid-pro",e.ENTERPRISE="deid-enterprise",e.LITE="deid-lite",e.ADVANCED="deid-advanced",e.BUILD="deid-api-build",e.LAUNCH="deid-api-launch",e.SCALE="deid-api-scale",e))(J||{}),X=(e=>(e.Created="created",e.Started="started",e.Done="done",e.Error="error",e.Rejected="rejected",e.Ready="ready",e))(X||{}),Y=(e=>(e.Unrated="Unrated",e.Positive="Positive",e.Negative="Negative",e))(Y||{}),M=(e=>(e.Functional="Functional",e.TextOnly="TextOnly",e.Maintenance="Maintenance",e.Playground="Playground",e.DirectPlayback="DirectPlayback",e))(M||{}),D=(e=>(e.Embed="embed",e.Query="query",e.Partial="partial",e.Answer="answer",e.Complete="done",e))(D||{}),Z=(e=>(e.KnowledgeProcessing="knowledge/processing",e.KnowledgeIndexing="knowledge/indexing",e.KnowledgeFailed="knowledge/error",e.KnowledgeDone="knowledge/done",e))(Z||{}),G=(e=>(e.Knowledge="knowledge",e.Document="document",e.Record="record",e))(G||{}),Q=(e=>(e.Pdf="pdf",e.Text="text",e.Html="html",e.Word="word",e.Json="json",e.Markdown="markdown",e.Csv="csv",e.Excel="excel",e.Powerpoint="powerpoint",e.Archive="archive",e.Image="image",e.Audio="audio",e.Video="video",e))(Q||{}),x=(e=>(e.Clip="clip",e.Talk="talk",e))(x||{}),T=(e=>(e.Start="START",e.Stop="STOP",e))(T||{}),V=(e=>(e.ChatAnswer="chat/answer",e.ChatPartial="chat/partial",e.StreamDone="stream/done",e.StreamStarted="stream/started",e.StreamFailed="stream/error",e.StreamReady="stream/ready",e.StreamCreated="stream/created",e.StreamVideoCreated="stream-video/started",e.StreamVideoDone="stream-video/done",e.StreamVideoError="stream-video/error",e.StreamVideoRejected="stream-video/rejected",e))(V||{}),v=(e=>(e.New="new",e.Fail="fail",e.Connected="connected",e.Connecting="connecting",e.Closed="closed",e.Completed="completed",e.Disconnected="disconnected",e))(v||{}),ee=(e=>(e.Amazon="amazon",e.Microsoft="microsoft",e.Afflorithmics="afflorithmics",e.Elevenlabs="elevenlabs",e))(ee||{}),te=(e=>(e.Public="public",e.Premium="premium",e.Private="private",e))(te||{});const z="https://api.d-id.com",le="wss://notifications.d-id.com",me="79f81a83a67430be2bc0fd61042b8faa",j=()=>Math.random().toString(16).slice(2);function ne(){let e=window.localStorage.getItem("did_external_key_id");return e||(e=Math.random().toString(16).slice(2),window.localStorage.setItem("did_external_key_id",e)),e}let ge=j();function re(e){if(e.type==="bearer")return`Bearer ${e.token}`;if(e.type==="basic")return`Basic ${btoa(`${e.username}:${e.password}`)}`;if(e.type==="key")return`Client-Key ${e.clientKey}.${ne()}_${ge}`;throw new Error(`Unknown auth type: ${e}`)}function B(e,n=z,s){const a=async(t,r)=>{const i=await fetch(n+(t!=null&&t.startsWith("/")?t:`/${t}`),{...r,headers:{...r==null?void 0:r.headers,Authorization:re(e),"Content-Type":"application/json"}});if(!i.ok){let o=await i.text().catch(()=>"Failed to fetch");throw s&&s(new Error(o),{url:t,options:r,headers:i.headers}),new Error(o)}return i.json()};return{get(t,r){return a(t,{...r,method:"GET"})},post(t,r,i){return a(t,{...i,body:JSON.stringify(r),method:"POST"})},delete(t,r,i){return a(t,{...i,body:JSON.stringify(r),method:"DELETE"})},patch(t,r,i){return a(t,{...i,body:JSON.stringify(r),method:"PATCH"})}}}function ae(e,n=z,s){const a=B(e,`${n}/agents`,s);return{create(t,r){return a.post("/",t,r)},getAgents(t,r){return a.get(`/${t?`?tag=${t}`:""}`,r).then(i=>i??[])},getById(t,r){return a.get(`/${t}`,r)},delete(t,r){return a.delete(`/${t}`,void 0,r)},update(t,r,i){return a.patch(`/${t}`,r,i)},newChat(t,r){return a.post(`/${t}/chat`,void 0,r)},chat(t,r,i,o){return a.post(`/${t}/chat/${r}`,i,o)},createRating(t,r,i,o){return a.post(`/${t}/chat/${r}/ratings`,i,o)},updateRating(t,r,i,o,d){return a.patch(`/${t}/chat/${r}/ratings/${i}`,o,d)},deleteRating(t,r,i,o){return a.delete(`/${t}/chat/${r}/ratings/${i}`,o)}}}const ue=e=>new Promise(n=>setTimeout(n,e));function he(e){return new Promise((n,s)=>{const{callbacks:a,host:t,auth:r}=e,{onMessage:i=null,onOpen:o=null,onClose:d=null,onError:l=null}=a||{},g=new WebSocket(`${t}?authorization=${re(r)}`);g.onmessage=i,g.onclose=d,g.onerror=f=>{console.error(f),l==null||l("Websocket failed to connect",f),s(f)},g.onopen=f=>{o==null||o(f),n(g)}})}async function we(e){const{retries:n=1}=e;let s=null;for(let a=0;(s==null?void 0:s.readyState)!==WebSocket.OPEN;a++)try{s=await he(e)}catch(t){if(a===n)throw t;await ue(a*500)}return s}async function fe(e,n,s){const a=s!=null&&s.onMessage?[s.onMessage]:[],t=await we({auth:e,host:n,callbacks:{onError:s==null?void 0:s.onError,onMessage:r=>{const i=JSON.parse(r.data);a.forEach(o=>o(i.event,i))}}});return{socket:t,disconnect:()=>t.close(),subscribeToEvents:r=>a.push(r)}}const pe="X-Playground-Chat";function ye(e,n,s,a){const t=B(e,`${n}/agents/${s}`,a);return{createStream(r){return t.post("/streams",{compatibility_mode:r.compatibility_mode,stream_warmup:r.stream_warmup,session_timeout:r.session_timeout})},startConnection(r,i,o){return t.post(`/streams/${r}/sdp`,{session_id:o,answer:i})},addIceCandidate(r,i,o){return t.post(`/streams/${r}/ice`,{session_id:o,...i})},sendStreamRequest(r,i,o){return t.post(`/streams/${r}`,{session_id:i,...o})},close(r,i){return t.delete(`/streams/${r}`,{session_id:i})}}}function ve(e,n,s,a){const t=B(e,`${n}/agents/${s}`,a);return{createStream(r,i){return t.post("/streams",{driver_url:r.driver_url,face:r.face,config:r.config,compatibility_mode:r.compatibility_mode,stream_warmup:r.stream_warmup,output_resolution:r.output_resolution,session_timeout:r.session_timeout},i)},startConnection(r,i,o,d){return t.post(`/streams/${r}/sdp`,{session_id:o,answer:i},d)},addIceCandidate(r,i,o,d){return t.post(`/streams/${r}/ice`,{session_id:o,...i},d)},sendStreamRequest(r,i,o,d){return t.post(`/streams/${r}`,{session_id:i,...o},d)},close(r,i,o){return t.delete(`/streams/${r}`,{session_id:i},o)}}}let ie=!1;const b=(e,n)=>ie&&console.log(e,n),Ce=(window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection).bind(window);function se(e){switch(e){case"connected":return v.Connected;case"checking":return v.Connecting;case"failed":return v.Fail;case"new":return v.New;case"closed":return v.Closed;case"disconnected":return v.Disconnected;case"completed":return v.Completed;default:return v.New}}function Se(){let e=0;return n=>{for(const s of n.values())if(s&&s.type==="inbound-rtp"&&s.kind==="video"){const a=s.bytesReceived,t=a-e>0;return e=a,t}return!1}}function Me(e,n){const a=Math.max(Math.ceil(10),1);let t=0,r=!1;const i=Se();return setInterval(async()=>{const o=await e.getStats();i(o)?(t=0,r||(n==null||n(T.Start),r=!0)):r&&(t++,t>=a&&(n==null||n(T.Stop),r=!1))},100)}async function _e(e,n,{debug:s=!1,callbacks:a,auth:t,baseURL:r=z,warmup:i}){ie=s;let o;const{startConnection:d,sendStreamRequest:l,close:g,createStream:f,addIceCandidate:k}=n.videoType===x.Clip?ye(t,r,e,a.onError):ve(t,r,e,a.onError),{id:_,offer:K,ice_servers:U,session_id:E}=await f(n),y=new Ce({iceServers:U});if(!E)throw new Error("Could not create session_id");const c=Me(y,a.onVideoStateChange);y.onicecandidate=m=>{b("peerConnection.onicecandidate",m),m.candidate&&m.candidate.sdpMid&&m.candidate.sdpMLineIndex!==null?k(_,{candidate:m.candidate.candidate,sdpMid:m.candidate.sdpMid,sdpMLineIndex:m.candidate.sdpMLineIndex},E):k(_,{candidate:null},E)},y.oniceconnectionstatechange=()=>{var p;b("peerConnection.oniceconnectionstatechange => "+y.iceConnectionState);const m=se(y.iceConnectionState);m===v.Connected?o=setTimeout(()=>{var h;return(h=a.onConnectionStateChange)==null?void 0:h.call(a,v.Connected)},i?5e3:0):(clearTimeout(o),(p=a.onConnectionStateChange)==null||p.call(a,m))},y.ontrack=m=>{var p;b("peerConnection.ontrack",m),(p=a.onSrcObjectReady)==null||p.call(a,m.streams[0])},await y.setRemoteDescription(K),b("set remote description OK");const u=await y.createAnswer();return b("create answer OK"),await y.setLocalDescription(u),b("set local description OK"),await d(_,u,E),b("start connection OK"),{speak(m){return l(_,E,m)},async disconnect(){var m,p;if(_){const h=se(y.iceConnectionState);if(y){if(h===v.New){(m=a.onVideoStateChange)==null||m.call(a,T.Stop),clearInterval(c);return}y.close(),y.oniceconnectionstatechange=null,y.onnegotiationneeded=null,y.onicecandidate=null,y.ontrack=null}try{h===v.Connected&&await g(_,E).catch(C=>{})}catch(C){b("Error on close stream connection",C)}(p=a.onVideoStateChange)==null||p.call(a,T.Stop),clearInterval(c)}},sessionId:E,streamId:_}}let H={};function ke(e){const n=window!=null&&window.hasOwnProperty("DID_AGENTS_API")?"agents-ui":"agents-sdk",s=e.agent.presenter,a={token:e.token||"testKey",distinct_id:e.distinctId||ne(),agentId:e.agent.id,agentType:s.type==="clip"&&s.presenter_id.startsWith("v2_")?"clip_v2":s.type,owner_id:e.agent.owner_id??""};return{...a,isEnabled:e.isEnabled??!0,getRandom:()=>Math.random().toString(16).slice(2),track(t,r){if(!this.isEnabled)return Promise.reject("MixPanel analytics is disabled on creation");const{audioPath:i,...o}=r||{},d={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({data:JSON.stringify([{event:t,properties:{...o,...a,source:n,time:Date.now(),$insert_id:this.getRandom(),origin:window.location.href,"Screen Height":window.screen.height||window.innerWidth,"Screen Width":window.screen.width||window.innerHeight,"User Agent":navigator.userAgent}}])})};return fetch("https://api-js.mixpanel.com/track/?verbose=1&ip=1",d).then(l=>l.json()).catch(l=>console.error(l))},linkTrack(t,r,i,o){H[t]||(H[t]={events:{},resolvedDependencies:[]}),o.includes(i)||o.push(i);const d=H[t];if(d.events[i]={props:r},d.resolvedDependencies.push(i),o.every(g=>d.resolvedDependencies.includes(g))){const g=o.reduce((f,k)=>d.events[k]?{...f,...d.events[k].props}:f,{});this.track(t,g),d.resolvedDependencies=d.resolvedDependencies.filter(f=>!o.includes(f)),o.forEach(f=>{delete d.events[f]})}}}}function Re(e){var t,r,i,o;const n=()=>/Mobi|Android/i.test(navigator.userAgent)?"Mobile":"Desktop",s=()=>{const d=navigator.platform;return d.toLowerCase().includes("win")?"Windows":d.toLowerCase().includes("mac")?"Mac OS X":d.toLowerCase().includes("linux")?"Linux":"Unknown"},a=e.presenter;return{$os:`${s()}`,isMobile:`${n()=="Mobile"}`,browser:navigator.userAgent,origin:window.location.origin,agentType:a.type==="clip"&&a.presenter_id.startsWith("v2_")?"clip_v2":a.type,agentVoice:{voiceId:(r=(t=e.presenter)==null?void 0:t.voice)==null?void 0:r.voice_id,provider:(o=(i=e.presenter)==null?void 0:i.voice)==null?void 0:o.type}}}function Ee(e,n,s){var l,g;const{event:a,...t}=e,{template:r}=(n==null?void 0:n.llm)||{},{language:i}=((l=n==null?void 0:n.presenter)==null?void 0:l.voice)||{},{stitch:o}=(n==null?void 0:n.presenter)||{};return{...t,llm:{...t.llm,template:r},script:{...t.script,provider:{...(g=t==null?void 0:t.script)==null?void 0:g.provider,language:i}},stitch:o,...s}}let O=0;function Ie(e,n){var s,a,t,r,i,o,d;return e.presenter.type===x.Clip?{videoType:x.Clip,session_timeout:(s=n==null?void 0:n.streamOptions)==null?void 0:s.sessionTimeout,stream_warmup:(a=n==null?void 0:n.streamOptions)==null?void 0:a.streamWarmup,compatibility_mode:(t=n==null?void 0:n.streamOptions)==null?void 0:t.compatibilityMode}:{videoType:x.Talk,session_timeout:(r=n==null?void 0:n.streamOptions)==null?void 0:r.sessionTimeout,stream_warmup:(i=n==null?void 0:n.streamOptions)==null?void 0:i.streamWarmup,compatibility_mode:(o=n==null?void 0:n.streamOptions)==null?void 0:o.compatibilityMode,output_resolution:(d=n==null?void 0:n.streamOptions)==null?void 0:d.outputResolution}}function oe(e){return e===M.Playground?{headers:{[pe]:"true"}}:{}}async function ce(e,n,s,a){try{const t=await n.newChat(e,oe(a));return s.track("agent-chat",{event:"created",chat_id:t.id,agent_id:e,mode:a}),t}catch(t){try{console.error(t);const r=JSON.parse(t.message);if((r==null?void 0:r.kind)==="InsufficientCreditsError")throw new Error("InsufficientCreditsError")}catch(r){console.error("Error parsing the error message:",r)}throw new Error("Cannot create new chat")}}function Ae(e,n,s,a,t){return new Promise(async(r,i)=>{var d;O=0;const o=await _e(e.id,Ie(e,n),{...n,analytics:a,warmup:(d=n.streamOptions)==null?void 0:d.streamWarmup,callbacks:{...n.callbacks,onConnectionStateChange:async l=>{var g,f;l===v.Connected&&(!t&&n.mode!==M.DirectPlayback&&(t=await ce(e.id,s,a,n.mode).catch(k=>{i(k)})),o?r({chat:t,streamingManager:o}):t&&i(new Error("Something went wrong while initializing the manager"))),(f=(g=n.callbacks).onConnectionStateChange)==null||f.call(g,l)},onVideoStateChange(l){var g,f;(f=(g=n.callbacks).onVideoStateChange)==null||f.call(g,l),O>0&&l===T.Start&&a.linkTrack("agent-video",{event:"start",latency:Date.now()-O},"start",[V.StreamVideoCreated])}}}).catch(i)})}function de(e){let n="";if(e.greetings&&e.greetings.length>0){const s=Math.floor(Math.random()*e.greetings.length);n=e.greetings[s]}else n=`Hi! I'm ${e.preview_name||"My Agent"}. How can I help you?`;return[{content:n,id:j(),role:"assistant",created_at:new Date().toISOString()}]}function $e(e){if(e.answer!==void 0)return e.answer;let n=0,s="";for(;n in e;)s+=e[n],n++;return s}function be(e,n,s,a,t){if(!(e===D.Partial||e===D.Answer))return;const r=a.messages[a.messages.length-1];if((r==null?void 0:r.role)!=="assistant")return;const{content:i,sequence:o}=n;e===D.Partial?s[o]=i:s.answer=i;const d=$e(s);(r.content!==d||e===D.Answer)&&(r.content=d,t==null||t([...a.messages],e))}async function Pe(e,n){var U,E,y;let s={},a=!0;const t={messages:[],chatMode:n.mode||M.Functional},r=n.baseURL||z,i=n.wsURL||le,o=n.mixpanelKey||me,d=ae(n.auth,r,n.callbacks.onError),l=await d.getById(e);t.messages=de(l),(E=(U=n.callbacks).onNewMessage)==null||E.call(U,[...t.messages],"answer");const g=ke({token:o,agent:l,...n});g.track("agent-sdk",{event:"loaded",...Re(l)});const f={onMessage:(c,u)=>{var m,p;if("content"in u)be(c,u,s,t,n.callbacks.onNewMessage),c===D.Answer&&g.track("agent-message-received",{messages:t.messages.length,mode:t.chatMode});else{const h=V,C=[h.StreamVideoDone,h.StreamVideoError,h.StreamVideoRejected],I=[h.StreamFailed,h.StreamVideoError,h.StreamVideoRejected],R=Ee(u,l,{mode:t.chatMode});if(c=c,c===h.StreamVideoCreated)g.linkTrack("agent-video",R,h.StreamVideoCreated,["start"]);else if(C.includes(c)){const S=c.split("/")[1];g.track("agent-video",{...R,event:S})}I.includes(c)&&((p=(m=n.callbacks).onError)==null||p.call(m,new Error(`Stream failed with event ${c}`),{data:u})),u.event===h.StreamDone&&_()}}};async function k(c){var I,R,S,A,W,P,$;(R=(I=n.callbacks).onConnectionStateChange)==null||R.call(I,v.Connecting),O=0,c&&!a&&(delete t.chat,t.messages=de(l),(A=(S=n.callbacks).onNewMessage)==null||A.call(S,[...t.messages],"answer"));const u=n.mode===M.DirectPlayback?Promise.resolve(void 0):fe(n.auth,i,f),m=Ae(l,n,d,g,t.chat).catch(N=>{var F,q;throw K(M.Maintenance),(q=(F=n.callbacks).onConnectionStateChange)==null||q.call(F,v.Fail),N}),[p,{streamingManager:h,chat:C}]=await Promise.all([u,m]);C&&C.id!==((W=t.chat)==null?void 0:W.id)&&(($=(P=n.callbacks).onNewChat)==null||$.call(P,C.id)),t.streamingManager=h,t.socketManager=p,t.chat=C,a=!1,K((C==null?void 0:C.chat_mode)??n.mode??M.Functional)}async function _(){var c,u,m,p;(c=t.socketManager)==null||c.disconnect(),await((u=t.streamingManager)==null?void 0:u.disconnect()),delete t.streamingManager,delete t.socketManager,(p=(m=n.callbacks).onConnectionStateChange)==null||p.call(m,v.Disconnected)}async function K(c){var u,m;c!==t.chatMode&&(g.track("agent-mode-change",{mode:c}),t.chatMode=c,t.chatMode!==M.Functional&&await _(),(m=(u=n.callbacks).onModeChange)==null||m.call(u,c))}return{agent:l,starterMessages:((y=l.knowledge)==null?void 0:y.starter_message)||[],changeMode:K,async connect(){var c;await k(!0),g.track("agent-chat",{event:"connect",chatId:(c=t.chat)==null?void 0:c.id,agentId:l.id,mode:t.chatMode})},async reconnect(){var c;await _(),await k(!1),g.track("agent-chat",{event:"reconnect",chatId:(c=t.chat)==null?void 0:c.id,agentId:l.id,mode:t.chatMode})},async disconnect(){var c;await _(),g.track("agent-chat",{event:"disconnect",chatId:(c=t.chat)==null?void 0:c.id,agentId:l.id,mode:t.chatMode})},async chat(c){var m,p,h,C,I,R;const u=j();s={};try{if(O=Date.now(),n.mode===M.DirectPlayback)throw new Error("Direct playback is enabled, chat is disabled");if(c.length>=800)throw new Error("Message cannot be more than 800 characters");if(c.length===0)throw new Error("Message cannot be empty");if(t.chatMode===M.Maintenance)throw new Error("Chat is in maintenance mode");if(![M.TextOnly,M.Playground].includes(t.chatMode))if(t.streamingManager){if(!t.chat)throw new Error("Chat is not initialized")}else throw new Error("Streaming manager is not initialized");t.messages.push({id:j(),role:"user",content:c,created_at:new Date(O).toISOString()}),(p=(m=n.callbacks).onNewMessage)==null||p.call(m,[...t.messages],"user"),t.chat||(t.chat=await ce(l.id,d,g,t.chatMode),(C=(h=n.callbacks).onNewChat)==null||C.call(h,t.chat.id));const S={id:u,role:"assistant",content:"",created_at:new Date().toISOString(),matches:[]},A=[...t.messages];t.messages.push(S);const W=$=>{var N,F;return d.chat(l.id,$,{sessionId:(N=t.streamingManager)==null?void 0:N.sessionId,streamId:(F=t.streamingManager)==null?void 0:F.streamId,chatMode:t.chatMode,messages:A.map(({matches:q,...Te})=>Te)},oe(t.chatMode))},P=await W(t.chat.id).catch(async $=>{var N;if(!((N=$==null?void 0:$.message)!=null&&N.includes("missing or invalid session_id")))throw $;return await _(),await k(!1),W(t.chat.id)});return g.track("agent-message-send",{event:"success",mode:t.chatMode,messages:t.messages.length+1}),S.context=P.context,S.matches=P.matches,P.result&&(S.content=P.result,g.track("agent-message-received",{latency:Date.now()-O,mode:t.chatMode,messages:t.messages.length}),(R=(I=n.callbacks).onNewMessage)==null||R.call(I,[...t.messages],"answer")),P}catch(S){throw t.messages[t.messages.length-1].id===u&&t.messages.pop(),g.track("agent-message-send",{event:"error",mode:t.chatMode,messages:t.messages.length}),S}},rate(c,u,m){var C,I,R,S;const p=t.messages.find(A=>A.id===c);if(t.chat){if(!p)throw new Error("Message not found")}else throw new Error("Chat is not initialized");const h=((C=p.matches)==null?void 0:C.map(A=>[A.document_id,A.id]))??[];return g.track("agent-rate",{event:m?"update":"create",thumb:u===1?"up":"down",knowledge_id:((I=l.knowledge)==null?void 0:I.id)??"",mode:t.chatMode,matches:h,score:u}),m?d.updateRating(l.id,t.chat.id,m,{knowledge_id:((R=l.knowledge)==null?void 0:R.id)??"",message_id:c,matches:h,score:u}):d.createRating(l.id,t.chat.id,{knowledge_id:((S=l.knowledge)==null?void 0:S.id)??"",message_id:c,matches:h,score:u})},deleteRate(c){var u;if(!t.chat)throw new Error("Chat is not initialized");return g.track("agent-rate-delete",{type:"text",chat_id:(u=t.chat)==null?void 0:u.id,id:c,mode:t.chatMode}),d.deleteRating(l.id,t.chat.id,c)},speak(c){if(!t.streamingManager)throw new Error("Please connect to the agent first");function u(){if(typeof c=="string"){if(!l.presenter.voice)throw new Error("Presenter voice is not initialized");return{type:"text",provider:l.presenter.voice,input:c,ssml:!1}}if(c.type==="text"&&!c.provider){if(!l.presenter.voice)throw new Error("Presenter voice is not initialized");return{type:"text",provider:l.presenter.voice,input:c.input,ssml:c.ssml}}return c}const m=u();return g.track("agent-speak",m),t.streamingManager.speak({script:m})}}}function De(e,n,s){const{getById:a}=ae(n,s||z);return a(e)}w.AgentStatus=X,w.ChatMode=M,w.ChatProgress=D,w.ConnectionState=v,w.DocumentType=Q,w.KnowledgeType=G,w.PlanGroup=J,w.Providers=ee,w.RateState=Y,w.StreamEvents=V,w.StreamingState=T,w.Subject=Z,w.UserPlan=L,w.VideoType=x,w.VoiceAccess=te,w.createAgentManager=Pe,w.getAgent=De,Object.defineProperty(w,Symbol.toStringTag,{value:"Module"})});
